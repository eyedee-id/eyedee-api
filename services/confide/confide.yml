functions:
  ConfideApiCreateV1:
    handler: ./services/confide/functions/confide-new.handler
    name: ${self:service}-${self:custom.stage}-confide-api-create-v1
    events:
      - httpApi:
          method: PUT
          path: /v1/confide
          authorizer: authorizerCognito
  ConfideApiDetailV1:
    handler: ./services/confide/functions/confide-detail.handler
    name: ${self:service}-${self:custom.stage}-confide-api-detail-v1
    events:
      - httpApi:
          method: GET
          path: /v1/confide/{confide_id}
          authorizer: authorizerCognito
  ConfideApiExploreV1:
    handler: ./services/confide/functions/confide-explore.handler
    name: ${self:service}-${self:custom.stage}-confide-api-explore-v1
    events:
      - httpApi:
          method: GET
          path: /v1/confide/explore
          authorizer: authorizerCognito
  ConfideApiHashtagV1:
    handler: ./services/confide/functions/confide-hashtag.handler
    name: ${self:service}-${self:custom.stage}-confide-api-hashtag-v1
    events:
      - httpApi:
          method: GET
          path: /v1/confide/hashtag/{hashtag}
          authorizer: authorizerCognito
  ConfideApiUserV1:
    handler: ./services/confide/functions/confide-user.handler
    name: ${self:service}-${self:custom.stage}-confide-api-user-v1
    events:
      - httpApi:
          method: GET
          path: /v1/confide/user
          authorizer: authorizerCognito
  ConfideApiUserPrivateV1:
    handler: ./services/confide/functions/confide-user-private.handler
    name: ${self:service}-${self:custom.stage}-confide-api-user-private-v1
    events:
      - httpApi:
          method: GET
          path: /v1/confide/user/private
          authorizer: authorizerCognito
  ConfideApiCommentListV1:
    handler: ./services/confide/functions/confide-comment-list.handler
    name: ${self:service}-${self:custom.stage}-confide-api-comment-list-v1
    events:
      - httpApi:
          method: GET
          path: /v1/confide/{confide_id}/comment
          authorizer: authorizerCognito
  ConfideApiCommentNewV1:
    handler: ./services/confide/functions/confide-comment-new.handler
    name: ${self:service}-${self:custom.stage}-confide-api-comment-new-v1
    events:
      - httpApi:
          method: PUT
          path: /v1/confide/{confide_id}/comment
          authorizer: authorizerCognito
